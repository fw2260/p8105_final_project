<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />



<meta name="date" content="2020-11-23" />

<title>Final Report</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<script src="site_libs/kePrint-0.0.1/kePrint.js"></script>
<link href="site_libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>




<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Home</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="final_report.html">Final Report</a>
</li>
<li>
  <a href="https://fw2260.shinyapps.io/data_explorer/">Play with our game data!</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Contact Us
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="mailto:&lt;yj2622@cumc.columbia.edu&gt;">Ying Jin</a>
    </li>
    <li>
      <a href="mailto:&lt;tnn2113@cumc.columbia.edu&gt;">Tu Nguyen</a>
    </li>
    <li>
      <a href="mailto:&lt;ps3195@cumc.columbia.edu&gt;">Pengyuan Su</a>
    </li>
    <li>
      <a href="mailto:&lt;fw2260@columbia.edu&gt;">Lily Wang</a>
    </li>
    <li>
      <a href="mailto:&lt;hy2669@cumc.columbia.edu&gt;">Haoyang Yi</a>
    </li>
  </ul>
</li>
<li>
  <a href="https://github.com/fw2260/p8105_final_project">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">

<div class="btn-group pull-right">
<button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
</ul>
</div>



<h1 class="title toc-ignore">Final Report</h1>
<h4 class="date">11/23/2020</h4>

</div>


<p><br></p>
<div id="motivation" class="section level2">
<h2>Motivation</h2>
<p>Video games have been around for decades, providing entertainment for children and adults alike. They have been involved significantly from the early days of computer games and the early versions of Nintendo and Atari. As technology continues to improve, so do video games. Video game creation has become increasingly complicated, and the cost of creating a game to run one of the major consoles has risen with this greater complexity.</p>
<p>No longer just an entertainment medium, gaming has rapidly become the largest sector in terms of production and marketing. In fact, it is larger than the movie and music industry combined, and it is only growing. It is no surprise that many big companies want to bring revenues from video games. There are currently more than 2.5 billion gamers across the world. <a href="https://newzoo.com/insights/articles/global-games-market-reaches-137-9-billion-in-2018-mobile-games-take-half/">Analysts</a> reported that in 2019, the gaming business was estimated to be at 152.1 billion in which console was the second fastest-growing segment, only after mobile gaming. It is generally known that the top largest revenue regions were Asia-Pacific, North America, and Western Europe. In this project, we are going to analyze the 2001-2020 global games market per device from Nintendo, Sony, and Microsoft, and learn about the factors that influence their total revenues.</p>
<p><br></p>
</div>
<div id="initial-questions" class="section level2">
<h2>Initial Questions</h2>
<p>For games run on consoles developed by Nintendo, Sony and Microsoft, we want to know separately:</p>
<ul>
<li><p>How does the sales of games change over time?</p></li>
<li><p>What is the most popular/profitable game genre on each companies’ consoles?</p></li>
<li><p>Is there an association between critic scores and game sales? In which direction?</p></li>
<li><p>Does the number of consoles the games are released on influence their sales?</p></li>
</ul>
<p><br></p>
</div>
<div id="data-collection" class="section level2">
<h2>Data Collection</h2>
<p>Our dataset is a combination of data scraped from <a href="https://www.vgchartz.com/games/games.php?page=1&amp;results=200&amp;name=&amp;console=&amp;keyword=&amp;publisher=&amp;genre=&amp;order=TotalSales&amp;ownership=Both&amp;boxart=Both&amp;banner=Both&amp;showdeleted=&amp;region=All&amp;goty_year=&amp;developer=&amp;direction=DESC&amp;showtotalsales=1&amp;shownasales=1&amp;showpalsales=1&amp;showjapansales=1&amp;showothersales=1&amp;showpublisher=0&amp;showdeveloper=0&amp;showreleasedate=0&amp;showlastupdate=0&amp;showvgchartzscore=0&amp;showcriticscore=0&amp;showuserscore=0&amp;showshipped=0&amp;alphasort=&amp;showmultiplat=No">VGChartz</a>, a reliable video game sales tracking website, and <a href="https://www.metacritic.com/browse/games/score/metascore/year/all/filtered?year_selected=2020&amp;distribution=&amp;sort=desc&amp;view=detailed">Metacritic</a>, a well-known review aggregate site for video games. Some information of our dataset comes from VGChartz while others come from Metacritic. Based on the raw dataset, we also created some other new columns.</p>
<p>There are 7340 rows and 14 columns in our final dataset.</p>
<p>Important variables include:</p>
<ul>
<li><p><code>title</code>: unique title of each game</p></li>
<li><p><code>console</code>: platform on which the game was released or is playable (i.e. Switch, PS4, etc.)</p></li>
<li><p><code>console_developer</code>: company produces the consoles</p></li>
<li><p><code>n_platforms</code>: number of platforms per game title</p></li>
<li><p><code>genre</code>: genre of the game</p></li>
<li><p><code>release_year</code>: year of the game’s release</p></li>
<li><p><code>critic_score</code>: Aggregate score compiled by the websites</p></li>
<li><p><code>total_sale</code>: global revenues (millions $)</p></li>
<li><p><code>na_sale</code>: revenues in North America (millions $)</p></li>
<li><p><code>pal_sale</code>: revenues in Europe (millions $)</p></li>
<li><p><code>japan_sale</code>: revenues in Japan (millions $)</p></li>
<li><p><code>other_sale</code>: revenues in other regions (millions $)</p></li>
</ul>
<p>The first ten rows of the dataset is as follow:</p>
<pre class="r"><code>head(games_df) %&gt;% 
  knitr::kable(format = &quot;html&quot;, col.names = colnames(games_df), align=&quot;c&quot;) %&gt;%
  kableExtra::kable_styling(&quot;striped&quot;, &quot;hover&quot;, row_label_position = &quot;c&quot;) %&gt;%
  kableExtra::scroll_box(width = &quot;100%&quot;, height = &quot;200px&quot;)</code></pre>
<div style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:200px; overflow-x: scroll; width:100%; ">
<table class="table table-striped" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
title
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
console
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
console_developer
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
n_platforms
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
genre
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
release_year
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
publisher
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
developer
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
critic_score
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
total_sale
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
na_sale
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
pal_sale
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
japan_sale
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
other_sale
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center;">
Grand Theft Auto: San Andreas
</td>
<td style="text-align:center;">
PlayStation 2
</td>
<td style="text-align:center;">
Sony
</td>
<td style="text-align:center;">
3
</td>
<td style="text-align:center;">
action
</td>
<td style="text-align:center;">
2004
</td>
<td style="text-align:center;">
Rockstar Games
</td>
<td style="text-align:center;">
Rockstar North
</td>
<td style="text-align:center;">
9.5
</td>
<td style="text-align:center;">
20.81
</td>
<td style="text-align:center;">
9.43
</td>
<td style="text-align:center;">
0.40
</td>
<td style="text-align:center;">
0.41
</td>
<td style="text-align:center;">
10.57
</td>
</tr>
<tr>
<td style="text-align:center;">
Grand Theft Auto V
</td>
<td style="text-align:center;">
PlayStation 3
</td>
<td style="text-align:center;">
Sony
</td>
<td style="text-align:center;">
5
</td>
<td style="text-align:center;">
action
</td>
<td style="text-align:center;">
2013
</td>
<td style="text-align:center;">
Rockstar Games
</td>
<td style="text-align:center;">
Rockstar North
</td>
<td style="text-align:center;">
9.4
</td>
<td style="text-align:center;">
20.32
</td>
<td style="text-align:center;">
6.37
</td>
<td style="text-align:center;">
9.85
</td>
<td style="text-align:center;">
0.99
</td>
<td style="text-align:center;">
3.12
</td>
</tr>
<tr>
<td style="text-align:center;">
Grand Theft Auto V
</td>
<td style="text-align:center;">
PlayStation 4
</td>
<td style="text-align:center;">
Sony
</td>
<td style="text-align:center;">
5
</td>
<td style="text-align:center;">
action
</td>
<td style="text-align:center;">
2014
</td>
<td style="text-align:center;">
Rockstar Games
</td>
<td style="text-align:center;">
Rockstar North
</td>
<td style="text-align:center;">
9.7
</td>
<td style="text-align:center;">
19.39
</td>
<td style="text-align:center;">
6.06
</td>
<td style="text-align:center;">
9.71
</td>
<td style="text-align:center;">
0.60
</td>
<td style="text-align:center;">
3.02
</td>
</tr>
<tr>
<td style="text-align:center;">
Grand Theft Auto: Vice City
</td>
<td style="text-align:center;">
PlayStation 2
</td>
<td style="text-align:center;">
Sony
</td>
<td style="text-align:center;">
2
</td>
<td style="text-align:center;">
action
</td>
<td style="text-align:center;">
2002
</td>
<td style="text-align:center;">
Rockstar Games
</td>
<td style="text-align:center;">
Rockstar North
</td>
<td style="text-align:center;">
9.6
</td>
<td style="text-align:center;">
16.15
</td>
<td style="text-align:center;">
8.41
</td>
<td style="text-align:center;">
5.49
</td>
<td style="text-align:center;">
0.47
</td>
<td style="text-align:center;">
1.78
</td>
</tr>
<tr>
<td style="text-align:center;">
Grand Theft Auto III
</td>
<td style="text-align:center;">
PlayStation 2
</td>
<td style="text-align:center;">
Sony
</td>
<td style="text-align:center;">
2
</td>
<td style="text-align:center;">
action
</td>
<td style="text-align:center;">
2001
</td>
<td style="text-align:center;">
Rockstar Games
</td>
<td style="text-align:center;">
DMA Design
</td>
<td style="text-align:center;">
9.5
</td>
<td style="text-align:center;">
13.10
</td>
<td style="text-align:center;">
6.99
</td>
<td style="text-align:center;">
4.51
</td>
<td style="text-align:center;">
0.30
</td>
<td style="text-align:center;">
1.30
</td>
</tr>
<tr>
<td style="text-align:center;">
Grand Theft Auto IV
</td>
<td style="text-align:center;">
Xbox 360
</td>
<td style="text-align:center;">
Microsoft
</td>
<td style="text-align:center;">
3
</td>
<td style="text-align:center;">
action
</td>
<td style="text-align:center;">
2008
</td>
<td style="text-align:center;">
Rockstar Games
</td>
<td style="text-align:center;">
Rockstar North
</td>
<td style="text-align:center;">
10.0
</td>
<td style="text-align:center;">
11.09
</td>
<td style="text-align:center;">
6.80
</td>
<td style="text-align:center;">
3.11
</td>
<td style="text-align:center;">
0.14
</td>
<td style="text-align:center;">
1.04
</td>
</tr>
</tbody>
</table>
</div>
<p><br></p>
</div>
<div id="exploratory-analyses" class="section level2">
<h2>Exploratory Analyses</h2>
<div id="global-sales-and-number-of-games-released-across-the-years" class="section level3">
<h3>Global sales and Number of games released across the years</h3>
<pre class="r"><code>totalsale = games_df %&gt;% 
  group_by(release_year) %&gt;% 
  summarize(
    totalsale = sum(total_sale)
  ) %&gt;% 
  drop_na() %&gt;% 
  ggplot(aes(x = release_year, y = totalsale)) +
  geom_col() +
  labs(x = &quot;Year&quot;, y = &quot;Total Sale (million USD)&quot;)

totalcount = games_df %&gt;% 
 group_by(release_year) %&gt;% 
  summarize(
    count = n()
  ) %&gt;% 
  drop_na() %&gt;% 
  ggplot(aes(x = release_year, y = count)) +
  geom_col() +
  labs(x = &quot;Year&quot;, y = &quot;Number of Games&quot;)


totalsale + totalcount</code></pre>
<p><img src="final_report_files/figure-html/q1-1.png" width="672" /></p>
<p>The left and right bar graphs showed the annual global revenues of video games (in millions USD) and the total of video games respectively from 2001 to 2020. Video game industry increased at a rapid rate after 2001 in which it reached a peak of more than $700 million in global revenue in 2009 in accordance with the highest total video games produced in the same year. The similar trend appeared in both plots in which from 2012 to 2016, there was a drop in both the annual total sales and the number of games released. After 2016, the number of games released remained stable while the total revenues continued to decline.</p>
<p><br></p>
</div>
<div id="global-sales-of-games-per-genre" class="section level3">
<h3>Global sales of games per genre</h3>
<pre class="r"><code>games_df %&gt;% 
  ggplot(aes(x = genre, y = total_sale, fill = console_developer)) +
  geom_bar(stat = &quot;identity&quot;, position = &quot;stack&quot;) +
  theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust = 1)) +
  labs(x = &quot;Genre&quot;, y = &quot;Total Sale (million USD)&quot;, fill = &quot;Console Developer&quot;)</code></pre>
<p><img src="final_report_files/figure-html/q2-1.png" width="672" /></p>
<p><strong>Sports</strong> games have been around since the beginning of gaming culture, and it has been one of the most popular genres with their global sales approximately 1.0 billion USD. Challenging the player’s reflexes and coordination, <strong>Action</strong> and <strong>Shooting</strong> are the second and third genres in which their total sales are more than 8.75 billion USD.</p>
<p>The revenues of each company, however, were not the same across the genres. <strong>Nintendo</strong> earned more profits from making games in sports, role-playing, and platform, with each of them brought back more than 250 million USD. <strong>Sony</strong>’s gaming sales were mostly from the action, sports, and shooting genre with each brought approximately more than 500 million USD. <strong>Microsoft</strong>, despite the latest competitor to enter the video game industry, dominates the field in shooting, sports, and action genres. The company’s highest revenue was from shooting games with more than 350 million USD.</p>
<p><br></p>
</div>
<div id="relationship-between-critic-score-and-total-revenues" class="section level3">
<h3>Relationship between critic score and total revenues</h3>
<pre class="r"><code>games_df %&gt;% 
  filter(total_sale &lt; 5) %&gt;% 
  ggplot(aes(x = critic_score, y = total_sale, color = console_developer)) +
  geom_point(alpha = 0.2) +
  geom_smooth(method = &#39;lm&#39;, se = F) +
  labs(x = &quot;Critic Score&quot;, y = &quot;Total Sale (million USD)&quot;, color = &quot;Console Developer&quot;)</code></pre>
<p><img src="final_report_files/figure-html/q3-1.png" width="672" /></p>
<p>Critic consensus on a game usually has some correlation with the success of the game in the market in which the critic score can influence the consumer’s decision to buy games. Sony’s games had the best correlation of the critic score and the total sales, their games overall had the highest scores and the global revenues of approximately more than 1.0 million USD. Microsoft and Nintendo, respectively, are the second and third companies that had lower overall total sales and critic scores relationship. Overall, our data shows that the majority of games with higher scores were produced by <strong>Sony</strong> and thus, having the highest total revenues.</p>
<p><br></p>
</div>
<div id="platform-availability" class="section level3">
<h3>Platform Availability</h3>
<pre class="r"><code>games_df %&gt;% 
  mutate(n_platforms = as.factor(n_platforms)) %&gt;% 
  ggplot(aes(x = n_platforms, y = log(total_sale))) +
  geom_boxplot() +
  labs(x = &quot;Number of Platforms&quot;, y = &quot;Total Sale Log(million USD)&quot;)</code></pre>
<p><img src="final_report_files/figure-html/q4-1.png" width="672" /></p>
<p>Another factor that has a big impact on how well a game sales is the number of platforms the game is available. Most players do not have multiple consoles and a game that releases on multiple platforms has a much higher potential customer number. The plot showed that most players owned only 1 or 2 consoles. There was a large distribution of total revenues in games sold in 1 and 2 platforms.</p>
<p><br></p>
</div>
</div>
<div id="anova-test" class="section level2">
<h2>Anova Test</h2>
<pre class="r"><code>games_df = games_df %&gt;%
   mutate(
    genre = 
      case_when(
        genre %in% c(&#39;action&#39;,&#39;action_adventure&#39;,&quot;adventure&quot;, &quot;fighting&quot;) ~ &#39;Action&#39;,
        genre %in% c(&#39;racing&#39;,&#39;sports&#39;) ~ &#39;Competition&#39;,
        genre %in% c(&#39;role_playing&#39;, &#39;simulation&#39;) ~ &#39;Experience&#39;,
        genre %in% c(&#39;strategy&#39;,&#39;puzzle&#39;) ~ &#39;Intelligence&#39;,
        genre %in% c(&#39;platform&#39;, &#39;shooting&#39;)~ &#39;Agility&#39;,
        genre == &#39;miscellaneous&#39; ~ &quot;Miscellaneous&quot;)
    ) %&gt;%
  mutate(
    n_platforms = 
      case_when(n_platforms == &#39;1&#39; ~ &#39;small&#39;,
                n_platforms &gt;= &#39;2&#39; &amp; n_platforms &lt;= &#39;3&#39; ~ &#39;medium&#39;,
                n_platforms &gt;= &#39;4&#39; ~ &#39;large&#39;),
    n_platforms = as.factor(n_platforms)
    ) %&gt;% 
  dplyr::select(title:genre,critic_score, total_sale)</code></pre>
<p>By Analysis of Variance (ANOVA) we can conduct comparisons among groups of our interested categorical variables : genre and n_platforms.In the test of genre, we want to answer the question: Whether there are true differences in games sales among different genres?</p>
<div id="one-way-anova-total_sale-genre" class="section level3">
<h3>1. One-way ANOVA: Total_sale ~ genre</h3>
<pre class="r"><code>aov_mod_1 = aov(total_sale ~ genre, data = games_df)</code></pre>
<pre class="r"><code>broom::tidy(aov_mod_1)</code></pre>
<pre><code>## # A tibble: 2 x 6
##   term         df  sumsq meansq statistic   p.value
##   &lt;chr&gt;     &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;
## 1 genre         5   208.  41.5       10.3  6.76e-10
## 2 Residuals  7334 29440.   4.01      NA   NA</code></pre>
<pre class="r"><code>multi_comp_1 = TukeyHSD(aov_mod_1)
plot(multi_comp_1)</code></pre>
<p><img src="final_report_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
<p>With p.value &lt; 0.001, we conclude that at least two of the genres have different average total_sales. Then Tukey’s method was performed to make pairwise comparisons. 7 of 15 comparisons (eg. Agility vs Competition) have significant differences in mean of total_sale.</p>
</div>
<div id="anova-with-interaction-total_sale-console_developer-genre" class="section level3">
<h3>2. ANOVA with interaction: Total_sale ~ console_developer * genre</h3>
<pre class="r"><code>aov_mod_2 = aov(total_sale ~ console_developer * genre, data = games_df)</code></pre>
<pre class="r"><code>broom::tidy(aov_mod_2)</code></pre>
<pre><code>## # A tibble: 4 x 6
##   term                       df   sumsq meansq statistic   p.value
##   &lt;chr&gt;                   &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;
## 1 console_developer           2    23.8  11.9       2.99  5.04e- 2
## 2 genre                       5   213.   42.6      10.7   2.91e-10
## 3 console_developer:genre    10   251.   25.1       6.30  1.08e- 9
## 4 Residuals                7322 29159.    3.98     NA    NA</code></pre>
<pre class="r"><code>multi_comp_2 = TukeyHSD(aov_mod_2)

ori_df = 
  broom::tidy(multi_comp_2) %&gt;%
  filter(term == &#39;console_developer:genre&#39;) %&gt;%
  na.omit() 

multi_df = 
  ori_df %&gt;%
  filter(adj.p.value &lt; 0.05)</code></pre>
<p>With p.value of the interaction term = 1.08e-9 &lt; 0.001, we conclude that at least two of the interaction combinations have different average total_sales.From Tukey’s multiple comparisons we get that there are 36 significant different combinations among 153 combinations of console_developer and genre.</p>
</div>
<div id="conclusion" class="section level3">
<h3>3. Conclusion</h3>
<p>Anova tests above provide us evidence that indicate there are true differences in games sales among different groups of genre. When the console_developer changes, significant differences exist in subgroups as well. Thus it’s reasonable to include the interaction term console_developer : genre in the linear regression model.</p>
<p>Following similar procedures, we also conclude that significant differences exist in groups of n_platform (criteria of grouping: 1 ~ small, 2-3 ~ medium, 4-9 ~ large) and subgroups considering interaction with console_developer. Therefore we include the interaction term console_developer : n_platform in the linear regression model</p>
</div>
</div>
<div id="linear-regression" class="section level2">
<h2>Linear Regression</h2>
<pre class="r"><code>regression_df = 
  games_df %&gt;%
  filter(total_sale &lt; 5) # cutoff outliers</code></pre>
<div id="build-models" class="section level3">
<h3>1. Build models:</h3>
<p>Model 1: total_sale ~ console_developer * genre + console_developer * n_platforms.</p>
<p>Model 2: total_sale ~ console_developer * genre + console_developer * n_platforms + console_developer * critic_score</p>
<p>Model 3: total_sale ~ console_developer * genre + console_developer * critic_score</p>
<p>Model 4: total_sale ~ console_developer * n_platforms + console_developer * critic_score</p>
<p>We set the cutoff value at 5(million dollars). Model 2 contains interaction between console_developer and all interested predictors (genre, n_platform, critic_score) while Model 1,3,4 contain interaction between console_developer and two of interested predictors.</p>
</div>
<div id="cross-validation" class="section level3">
<h3>2. Cross validation:</h3>
<p>We use <code>crossv_mc</code> method to create training and testing datasets and fit the above 4 candidate models. The violin plots below will show the distribution of <strong>RMSE</strong> values for each candidate model:</p>
<pre class="r"><code>cv_df %&gt;% 
  dplyr::select(starts_with(&quot;rmse&quot;)) %&gt;% 
  pivot_longer(
    everything(),
    names_to = &quot;model&quot;,
    values_to = &quot;rmse&quot;,
    names_prefix = &quot;rmse_&quot;
  ) %&gt;% 
  ggplot(aes(x = model, y = rmse)) +
  geom_violin()</code></pre>
<p><img src="final_report_files/figure-html/regression_rmse_compare1234-1.png" width="672" /></p>
<p>Base on these results, there’s clearly some improvement for adding <code>console_developer*critic_score</code> as an additional predictor and they suggests that the different critic score among the three developers could influence the total sale in some way.</p>
<p>Comparing model 2, 3, and 4, all of their RMSE are less than 0.8 though, the model 2 has the smallest RMSE distribution, which means it may fit better. As for 3 and 4, the distribution of them are just really similar but the range of RMSE in model 4 is less.</p>
<p>Hence, we finally choose model 2 and 4 for the final comparison and consider whether the model could be ‘superior’ by adding the predictor <code>console_developer*genre</code>.</p>
<p>ANOVA test:</p>
</div>
<div id="diagnosis-and-interpretation" class="section level3">
<h3>3. Diagnosis and interpretation</h3>
<p>In the selected model, we used Residuals vs Fitted values plot to detect unequal error variance (heteroscedasticity) and outliers.</p>
<pre class="r"><code>regression_df = 
  games_df %&gt;%
  filter(total_sale &lt; 5)
lm2 = lm(total_sale ~ console_developer*genre +  console_developer*n_platforms + console_developer*critic_score, data = regression_df)
regression_df %&gt;%
  add_predictions(lm2) %&gt;%
  add_residuals(lm2) %&gt;%
  ggplot(aes(x = pred, y = resid))+ 
  geom_point(alpha = 0.3)+
  geom_smooth(method = &#39;lm&#39;, color = &#39;red&#39;)+
  labs(x = &#39;fitted values of total_sales&#39;, y = &#39;model residuals&#39;, title = &#39;Residuals vs Fitted Values&#39;)</code></pre>
<p><img src="final_report_files/figure-html/unnamed-chunk-9-1.png" width="672" /></p>
<p>As shown in the graph, there are many outliers with residuals &gt; 3. Although the mean of residual values is close to 0 and residuals have a horizontal relationship with fitted value, the distribution of residual values is skewed. This plot indicates that our model does not have ideally distributed residuals. make jeff’s table</p>
<pre class="r"><code>coe_df = broom::tidy(lm2) 
coe_df1 = coe_df[-c(2:11),] %&gt;%
  select(term, estimate, p.value) %&gt;% 
  mutate(term = str_replace(term, &quot;^console_developerNintendo:&quot;, &quot;Nintendo: &quot;),
         term = str_replace(term, &quot;^console_developerSony:&quot;, &quot;Sony: &quot;),
  ) %&gt;%
  knitr::kable(digits = 3)
coe_df1</code></pre>
<table>
<thead>
<tr>
<th style="text-align:left;">
term
</th>
<th style="text-align:right;">
estimate
</th>
<th style="text-align:right;">
p.value
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
(Intercept)
</td>
<td style="text-align:right;">
-0.835
</td>
<td style="text-align:right;">
0.000
</td>
</tr>
<tr>
<td style="text-align:left;">
Nintendo: genreAgility
</td>
<td style="text-align:right;">
-0.102
</td>
<td style="text-align:right;">
0.110
</td>
</tr>
<tr>
<td style="text-align:left;">
Sony: genreAgility
</td>
<td style="text-align:right;">
-0.071
</td>
<td style="text-align:right;">
0.239
</td>
</tr>
<tr>
<td style="text-align:left;">
Nintendo: genreCompetition
</td>
<td style="text-align:right;">
-0.025
</td>
<td style="text-align:right;">
0.683
</td>
</tr>
<tr>
<td style="text-align:left;">
Sony: genreCompetition
</td>
<td style="text-align:right;">
0.054
</td>
<td style="text-align:right;">
0.321
</td>
</tr>
<tr>
<td style="text-align:left;">
Nintendo: genreExperience
</td>
<td style="text-align:right;">
0.067
</td>
<td style="text-align:right;">
0.393
</td>
</tr>
<tr>
<td style="text-align:left;">
Sony: genreExperience
</td>
<td style="text-align:right;">
-0.249
</td>
<td style="text-align:right;">
0.001
</td>
</tr>
<tr>
<td style="text-align:left;">
Nintendo: genreIntelligence
</td>
<td style="text-align:right;">
0.129
</td>
<td style="text-align:right;">
0.256
</td>
</tr>
<tr>
<td style="text-align:left;">
Sony: genreIntelligence
</td>
<td style="text-align:right;">
-0.205
</td>
<td style="text-align:right;">
0.089
</td>
</tr>
<tr>
<td style="text-align:left;">
Nintendo: genreMiscellaneous
</td>
<td style="text-align:right;">
0.350
</td>
<td style="text-align:right;">
0.002
</td>
</tr>
<tr>
<td style="text-align:left;">
Sony: genreMiscellaneous
</td>
<td style="text-align:right;">
-0.204
</td>
<td style="text-align:right;">
0.062
</td>
</tr>
<tr>
<td style="text-align:left;">
Nintendo: n_platformsmedium
</td>
<td style="text-align:right;">
0.210
</td>
<td style="text-align:right;">
0.001
</td>
</tr>
<tr>
<td style="text-align:left;">
Sony: n_platformsmedium
</td>
<td style="text-align:right;">
-0.002
</td>
<td style="text-align:right;">
0.979
</td>
</tr>
<tr>
<td style="text-align:left;">
Nintendo: n_platformssmall
</td>
<td style="text-align:right;">
0.286
</td>
<td style="text-align:right;">
0.000
</td>
</tr>
<tr>
<td style="text-align:left;">
Sony: n_platformssmall
</td>
<td style="text-align:right;">
-0.140
</td>
<td style="text-align:right;">
0.046
</td>
</tr>
<tr>
<td style="text-align:left;">
Nintendo: critic_score
</td>
<td style="text-align:right;">
-0.108
</td>
<td style="text-align:right;">
0.000
</td>
</tr>
<tr>
<td style="text-align:left;">
Sony: critic_score
</td>
<td style="text-align:right;">
0.052
</td>
<td style="text-align:right;">
0.001
</td>
</tr>
</tbody>
</table>
<p>We compare coefficients of interaction terms between console_developer and genre/n_platforms/critic_score in the first table.</p>
<p>Interpretation:</p>
<pre class="r"><code>coe_df = broom::tidy(lm2) 
coe_df2 = coe_df[c(1:11),] %&gt;%
  select(term, estimate, p.value) %&gt;% 
  knitr::kable(digits = 3)
coe_df2</code></pre>
<table>
<thead>
<tr>
<th style="text-align:left;">
term
</th>
<th style="text-align:right;">
estimate
</th>
<th style="text-align:right;">
p.value
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
(Intercept)
</td>
<td style="text-align:right;">
-0.835
</td>
<td style="text-align:right;">
0.000
</td>
</tr>
<tr>
<td style="text-align:left;">
console_developerNintendo
</td>
<td style="text-align:right;">
0.488
</td>
<td style="text-align:right;">
0.000
</td>
</tr>
<tr>
<td style="text-align:left;">
console_developerSony
</td>
<td style="text-align:right;">
-0.129
</td>
<td style="text-align:right;">
0.321
</td>
</tr>
<tr>
<td style="text-align:left;">
genreAgility
</td>
<td style="text-align:right;">
0.153
</td>
<td style="text-align:right;">
0.001
</td>
</tr>
<tr>
<td style="text-align:left;">
genreCompetition
</td>
<td style="text-align:right;">
-0.031
</td>
<td style="text-align:right;">
0.464
</td>
</tr>
<tr>
<td style="text-align:left;">
genreExperience
</td>
<td style="text-align:right;">
0.058
</td>
<td style="text-align:right;">
0.360
</td>
</tr>
<tr>
<td style="text-align:left;">
genreIntelligence
</td>
<td style="text-align:right;">
-0.224
</td>
<td style="text-align:right;">
0.023
</td>
</tr>
<tr>
<td style="text-align:left;">
genreMiscellaneous
</td>
<td style="text-align:right;">
0.205
</td>
<td style="text-align:right;">
0.022
</td>
</tr>
<tr>
<td style="text-align:left;">
n_platformsmedium
</td>
<td style="text-align:right;">
-0.306
</td>
<td style="text-align:right;">
0.000
</td>
</tr>
<tr>
<td style="text-align:left;">
n_platformssmall
</td>
<td style="text-align:right;">
-0.275
</td>
<td style="text-align:right;">
0.000
</td>
</tr>
<tr>
<td style="text-align:left;">
critic_score
</td>
<td style="text-align:right;">
0.230
</td>
<td style="text-align:right;">
0.000
</td>
</tr>
</tbody>
</table>
<p>In the second table, coefficients of single terms such as genreAgility, genreCompetition are shown.</p>
</div>
</div>
<div id="main-finding" class="section level2">
<h2>Main Finding</h2>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeCodeFolding("hide" === "show");
});
</script>

<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
