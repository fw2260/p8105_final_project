---
title: "Tidy VGChartz"
date: "11/19/2020"
output: github_document
---

```{r setup, include=FALSE}
library(tidyverse)
```

```{r}
game_df <- 
  tibble(
    path = list.files("data/genre_sales")) %>% 
  mutate(genre = str_extract(path, "[^.]+"),
         path = str_c("data/genre_sales/", path),
         data = map(.x = path, ~read_csv(.x))) %>% 
  unnest(data) %>% 
  select(-path) %>% 
  select(title, console, genre, release_date, everything()) %>%   mutate_at(7:11, funs(gsub("m","",.))) %>% 
  mutate_at(7:11, funs(gsub("N/A",NA,.)))

write_csv(game_df, "./data/vgchartz.csv")
```

